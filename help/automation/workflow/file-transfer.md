---
product: campaign
title: 檔案傳輸
description: 進一步瞭解檔案傳輸工作流程活動
feature: Workflows, Data Management
exl-id: 794de398-f35d-4c2b-af29-d6fd38eb9394
source-git-commit: 6464e1121b907f44db9c0c3add28b54486ecf834
workflow-type: tm+mt
source-wordcount: '557'
ht-degree: 2%

---

# 檔案傳輸{#file-transfer}

此 **檔案傳輸** 活動可讓您接收或傳送檔案、測試檔案是否存在或列出伺服器上的檔案。 使用的通訊協定為Azure Blob儲存、Amazon Simple Storage Service (S3)、FTP或SFTP。
透過S3、Azure Blob儲存或SFTP連線，您也可以透過Adobe即時客戶資料平台將區段資料匯入Adobe Campaign。 如需詳細資訊，請參閱此 [檔案](https://experienceleague.adobe.com/docs/experience-platform/destinations/catalog/email-marketing/adobe-campaign.html).

## 屬性 {#properties}

使用下拉式清單 **[!UICONTROL Action]** 欄位以選取活動的動作。

![](assets/file_transfert_action.png)

設定取決於所選的動作。

1. **正在接收檔案**

   若要接收儲存在遠端伺服器上的檔案，請選取 **[!UICONTROL File download]** 在 **[!UICONTROL Action]** 欄位。 您必須在相關欄位中指定其URL。

   ![](assets/file_transfert_edit.png)

   檢查 **[!UICONTROL Use an external account]** 以從Azure Blob儲存體選取帳戶，在中設定的S3、FTP或SFTP帳戶 **[!UICONTROL Administration > Platform > External accounts]** 樹狀結構的節點。 然後指定伺服器上的哪個目錄包含要下載的檔案。

   ![](assets/file_transfert_edit_external.png)

1. **檔案傳輸**

   若要將檔案傳送至伺服器，請選取 **[!UICONTROL File upload]** 在 **[!UICONTROL Action]** 欄位。 您必須在以下位置指定目標伺服器： **[!UICONTROL Remote server]** 區段。 這些引數與傳入檔案的相同。 請參閱上文。

   來源檔案可能來自上一個活動。 在此案例中， **[!UICONTROL Use the file generated by the previous activity]** 必須選取選項。

   ![](assets/file_transfert_edit_send.png)

   這也可能與一個或多個其他檔案有關。 若要選取它們，請取消核取選項，然後按一下 **[!UICONTROL Insert]**. 指定要傳送之檔案的存取路徑。 若要新增其他檔案，請按一下 **[!UICONTROL Insert]** 再來一次。 現在，每個檔案都有自己的索引標籤。

   ![](assets/file_transfert_source.png)

   使用箭頭來變更標籤的順序。 這與檔案傳送至伺服器的順序有關。

   此 **[!UICONTROL Keep history of files sent]** 選項可讓您追蹤已傳送的檔案。 可從目錄存取此記錄。

1. **測試以查看檔案是否存在**

   若要測試檔案是否存在，請選取 **[!UICONTROL Test to see if file exists]** 中的選項 **[!UICONTROL Action]** 欄位。 遠端伺服器的設定與檔案下載的設定相同。 如需詳細資訊，請參閱此 [區段](#properties).

   ![](assets/file_transfert_edit_test.png)

1. **檔案清單**

   若要列出檔案，請選取 **[!UICONTROL File listing]** 選項來自 **[!UICONTROL Action]** 欄位。 遠端伺服器的設定與接收檔案的設定相同。 如需詳細資訊，請參閱此 [區段](#properties).

   此 **[!UICONTROL List all files]** 選項，可在選取 **[!UICONTROL File listing]** 動作，可讓您將伺服器上的所有檔案儲存在事件變數中 **vars.filenames** 其中檔案名稱由以下專案分隔： `\n` 個字元。

所有檔案傳輸選項有兩個可能的選項：

* 此 **[!UICONTROL Process missing file]** 選項會新增轉變，如果在指定的目錄中找不到檔案，則會啟動該轉變。
* 此 **[!UICONTROL Process errors]** 詳細選項於 [正在處理錯誤](monitor-workflow-execution.md#processing-errors).

此 **[!UICONTROL Advanced parameters...]** 連結可讓您存取下列選項：

![](assets/file_transfert_advanced.png)

* **[!UICONTROL Delete the source files after transfer]**

  清除遠端伺服器上的檔案。 如果未核取此選項，請務必手動監視SFTP目錄中封存內容的大小。

* **[!UICONTROL Use SSL]**

  可讓您在檔案傳輸期間透過SSL通訊協定使用安全連線。

* **[!UICONTROL Display the session logs]**

  可讓您復原Azure Blob儲存、S3、FTP或SFTP傳輸的記錄，並將其納入工作流程記錄中。

* **[!UICONTROL Disable passive mode]**

  可讓您指定要用於資料傳輸的連線連線埠。

此 **[!UICONTROL File historization settings...]** 連結提供的選項詳見 [網頁下載](web-download.md) (**[!UICONTROL File historization]** 步驟)。

## 輸入引數 {#input-parameters}

* 檔案名稱

  已傳送檔案的完整名稱。

## 輸出引數 {#output-parameters}

* 檔案名稱

  收到檔案的完整名稱，如果 **[!UICONTROL Use the file generated by the previous activity]** 已選取選項。
