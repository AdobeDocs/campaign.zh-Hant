---
product: campaign
title: 檔案傳輸
description: 深入了解檔案傳輸工作流程活動
feature: Workflows, Data Management
exl-id: 794de398-f35d-4c2b-af29-d6fd38eb9394
source-git-commit: 6464e1121b907f44db9c0c3add28b54486ecf834
workflow-type: tm+mt
source-wordcount: '557'
ht-degree: 2%

---

# 檔案傳輸{#file-transfer}

此 **檔案傳輸** 活動可讓您接收或傳送檔案、測試檔案是否存在，或列出伺服器上的檔案。 使用的通訊協定為Azure Blob儲存、Amazon簡單儲存服務(S3)、FTP或SFTP。
有了S3、Azure Blob儲存或SFTP連線，您也可以使用Adobe即時客戶資料平台，將區段資料匯入Adobe Campaign。 有關詳細資訊，請參閱 [檔案](https://experienceleague.adobe.com/docs/experience-platform/destinations/catalog/email-marketing/adobe-campaign.html).

## 屬性 {#properties}

使用 **[!UICONTROL Action]** 欄位，以選取活動的動作。

![](assets/file_transfert_action.png)

設定取決於選取的動作。

1. **接收檔案**

   要接收儲存在遠程伺服器上的檔案，請選擇 **[!UICONTROL File download]** 在 **[!UICONTROL Action]** 欄位。 您必須在相關欄位中指定其URL。

   ![](assets/file_transfert_edit.png)

   檢查 **[!UICONTROL Use an external account]** 從Azure Blob儲存、S3、FTP或SFTP帳戶中，選取 **[!UICONTROL Administration > Platform > External accounts]** 樹的節點。 然後指定伺服器上包含要下載的檔案的目錄。

   ![](assets/file_transfert_edit_external.png)

1. **檔案傳輸**

   要將檔案發送到伺服器，請選擇 **[!UICONTROL File upload]** 在 **[!UICONTROL Action]** 欄位。 您必須在 **[!UICONTROL Remote server]** 的子母體。 參數與傳入檔案的參數相同。 請參閱上文。

   來源檔案可以來自前一個活動。 在此情況下， **[!UICONTROL Use the file generated by the previous activity]** 選項。

   ![](assets/file_transfert_edit_send.png)

   這也可能與一個或多個其他檔案有關。 若要選取，請取消勾選選項，然後按一下 **[!UICONTROL Insert]**. 指定要傳送之檔案的存取路徑。 若要新增其他檔案，請按一下 **[!UICONTROL Insert]** 。 檔案現在各有其專屬標籤。

   ![](assets/file_transfert_source.png)

   使用箭頭來更改頁簽的順序。 這與檔案傳送至伺服器的順序有關。

   此 **[!UICONTROL Keep history of files sent]** 選項可讓您追蹤傳送的檔案。 可從目錄存取此歷史記錄。

1. **測試以查看檔案是否存在**

   若要測試檔案是否存在，請選取 **[!UICONTROL Test to see if file exists]** 選項 **[!UICONTROL Action]** 欄位。 遠程伺服器的配置與檔案下載的配置相同。 如需詳細資訊，請參閱 [節](#properties).

   ![](assets/file_transfert_edit_test.png)

1. **檔案清單**

   若要列出檔案，請選取 **[!UICONTROL File listing]** 選項 **[!UICONTROL Action]** 欄位。 遠程伺服器的配置與接收檔案的配置相同。 如需詳細資訊，請參閱 [節](#properties).

   此 **[!UICONTROL List all files]** 選項，可在選擇 **[!UICONTROL File listing]** 動作，可讓您將伺服器上存在的所有檔案儲存在事件變數中 **vars.filenames** 其中檔案名稱以 `\n` 字元。

所有檔案傳輸選項有兩個可能的選項：

* 此 **[!UICONTROL Process missing file]** 選項添加在指定目錄中找不到檔案時激活的轉變。
* 此 **[!UICONTROL Process errors]** 選項，詳見 [處理錯誤](monitor-workflow-execution.md#processing-errors).

此 **[!UICONTROL Advanced parameters...]** 連結可讓您存取下列選項：

![](assets/file_transfert_advanced.png)

* **[!UICONTROL Delete the source files after transfer]**

   清除遠程伺服器上的檔案。 如果未勾選此選項，請務必手動監控SFTP目錄中已封存內容的大小。

* **[!UICONTROL Use SSL]**

   可讓您在檔案傳輸期間透過SSL通訊協定使用安全連線。

* **[!UICONTROL Display the session logs]**

   可讓您復原Azure Blob儲存、S3、FTP或SFTP傳輸的記錄檔，並將其納入工作流程記錄檔中。

* **[!UICONTROL Disable passive mode]**

   允許指定用於資料傳輸的連接埠。

此 **[!UICONTROL File historization settings...]** 連結可讓您存取 [網頁下載](web-download.md) (**[!UICONTROL File historization]** 步驟)。

## 輸入參數 {#input-parameters}

* 檔案名

   已傳送檔案的完整名稱。

## 輸出參數 {#output-parameters}

* 檔案名

   已接收檔案的完整名稱(若 **[!UICONTROL Use the file generated by the previous activity]** 選項。
