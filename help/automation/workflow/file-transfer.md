---
product: campaign
title: 檔案傳輸
description: 進一步瞭解檔案傳輸工作流程活動
feature: Workflows, Data Management
role: User
version: Campaign v8, Campaign Classic v7
exl-id: 794de398-f35d-4c2b-af29-d6fd38eb9394
source-git-commit: 4cbccf1ad02af9133d51933e3e0d010b5c8c43bd
workflow-type: tm+mt
source-wordcount: '550'
ht-degree: 1%

---

# 檔案傳輸{#file-transfer}

**檔案傳輸**&#x200B;活動可讓您接收或傳送檔案、測試檔案是否存在，或列出伺服器上的檔案。 使用的通訊協定為Azure Blob儲存、Amazon Simple Storage Service (S3)、FTP或SFTP。
透過S3、Azure Blob儲存或SFTP連線，您也可以透過Adobe即時客戶資料平台將區段資料匯入Adobe Campaign。 如需詳細資訊，請參閱此[檔案](https://experienceleague.adobe.com/docs/experience-platform/destinations/catalog/email-marketing/adobe-campaign.html){target="_blank"}。

## 屬性 {#properties}

使用&#x200B;**[!UICONTROL Action]**&#x200B;欄位的下拉式清單來選取活動的動作。

![](assets/file_transfert_action.png)

設定取決於所選的動作。

1. **正在接收檔案**

   若要接收儲存在遠端伺服器上的檔案，請在&#x200B;**[!UICONTROL Action]**&#x200B;欄位中選取&#x200B;**[!UICONTROL File download]**。 您必須在相關欄位中指定其URL。

   ![](assets/file_transfert_edit.png)

   檢查&#x200B;**[!UICONTROL Use an external account]**&#x200B;以從樹狀結構之&#x200B;**[!UICONTROL Administration > Platform > External accounts]**&#x200B;節點中設定的Azure Blob儲存體、S3、FTP或SFTP帳戶中選取帳戶。 然後指定伺服器上的哪個目錄包含要下載的檔案。

   ![](assets/file_transfert_edit_external.png)

1. **檔案傳輸**

   若要將檔案傳送至伺服器，請在&#x200B;**[!UICONTROL Action]**&#x200B;欄位中選取&#x200B;**[!UICONTROL File upload]**。 您必須在編輯器的&#x200B;**[!UICONTROL Remote server]**&#x200B;區段中指定目標伺服器。 這些引數與傳入檔案的相同。 請參閱上文。

   來源檔案可能來自上一個活動。 在此情況下，必須選取&#x200B;**[!UICONTROL Use the file generated by the previous activity]**&#x200B;選項。

   ![](assets/file_transfert_edit_send.png)

   這也可能與一個或多個其他檔案有關。 若要選取它們，請取消核取選項，然後按一下&#x200B;**[!UICONTROL Insert]**。 指定要傳送之檔案的存取路徑。 若要新增其他檔案，請再按一下&#x200B;**[!UICONTROL Insert]**。 現在，每個檔案都有自己的索引標籤。

   ![](assets/file_transfert_source.png)

   使用箭頭來變更標籤的順序。 這與檔案傳送至伺服器的順序有關。

   **[!UICONTROL Keep history of files sent]**&#x200B;選項可讓您追蹤已傳送的檔案。 可從目錄存取此記錄。

1. **測試以檢視檔案是否存在**

   若要測試檔案是否存在，請在&#x200B;**[!UICONTROL Action]**&#x200B;欄位中選取&#x200B;**[!UICONTROL Test to see if file exists]**&#x200B;選項。 遠端伺服器的設定與檔案下載的設定相同。 如需詳細資訊，請參閱此[區段](#properties)。

   ![](assets/file_transfert_edit_test.png)

1. **檔案清單**

   若要列出檔案，請從&#x200B;**[!UICONTROL Action]**&#x200B;欄位中選取&#x200B;**[!UICONTROL File listing]**&#x200B;選項。 遠端伺服器的設定與接收檔案的設定相同。 如需詳細資訊，請參閱此[區段](#properties)。

   選取&#x200B;**[!UICONTROL File listing]**&#x200B;動作時可用的&#x200B;**[!UICONTROL List all files]**&#x200B;選項可讓您儲存所有存在於伺服器上事件變數&#x200B;**vars.filenames**&#x200B;中的檔案，其中檔案名稱以`\n`個字元分隔。

所有檔案傳輸選項有兩個可能的選項：

* **[!UICONTROL Process missing file]**&#x200B;選項新增了一個轉變，如果在指定的目錄中找不到檔案，該轉變就會啟動。
* **[!UICONTROL Process errors]**&#x200B;選項在[處理錯誤](monitor-workflow-execution.md#processing-errors)中有詳細說明。

**[!UICONTROL Advanced parameters...]**&#x200B;連結可讓您存取下列選項：

![](assets/file_transfert_advanced.png)

* **[!UICONTROL Delete the source files after transfer]**

  清除遠端伺服器上的檔案。 如果未核取此選項，請務必手動監視SFTP目錄中封存內容的大小。

* **[!UICONTROL Use SSL]**

  可讓您在檔案傳輸期間透過SSL通訊協定使用安全連線。

* **[!UICONTROL Display the session logs]**

  可讓您復原Azure Blob儲存、S3、FTP或SFTP傳輸的記錄，並將其納入工作流程記錄中。

* **[!UICONTROL Disable passive mode]**

  可讓您指定要用於資料傳輸的連線連線埠。

**[!UICONTROL File historization settings...]**&#x200B;連結可讓您存取[網頁下載](web-download.md) （**[!UICONTROL File historization]**&#x200B;步驟）中詳述的選項。

## 輸入引數 {#input-parameters}

* 檔案名稱

  已傳送檔案的完整名稱。

## 輸出引數 {#output-parameters}

* 檔案名稱

  已接收檔案的完整名稱（如果已選取&#x200B;**[!UICONTROL Use the file generated by the previous activity]**&#x200B;選項）。
